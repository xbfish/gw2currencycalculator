<!doctype html>  
<html lang="en">  
<head>  
	<title>A Simple Guild Wars 2 Currency Calculator</title>  
	<meta name="description" content="A simple guild wars 2 currency calculator for calculation of in-game currency.">  
	<meta name="author" content="Rabbit Web Factory, Willie Fang">  
	<script src="jquery.js"></script>
	<link rel="stylesheet" type="text/css" href="style.css">
	<script type="text/javascript">
		$(document).ready(function() {
			var totalGold = 0, totalSilver = 0, totalCopper = 0;
			
			$("#plus").click(function() {
				var gold = $("#gold").val();
				gold = parseInt(gold);
				var silver = $("#silver").val();
				silver = parseInt(silver);
				var copper = $("#copper").val();
				copper = parseInt(copper);
				
				totalCopper += copper;
				var copperBringOver = Math.floor(totalCopper / 100);
				if(copperBringOver >= 1){
					totalSilver += copperBringOver;
					totalCopper %= 100;
				}
				
				totalSilver += silver;
				var silverBringOver = Math.floor(totalSilver / 100);
				if(silverBringOver >= 1){
					totalGold += silverBringOver;
					totalSilver %= 100;
				}
				
				totalGold += gold;
				
				$("#totalCopper").val(totalCopper);
				$("#totalSilver").val(totalSilver);
				$("#totalGold").val(totalGold);
			});
			
			$("#minus").click(function() {
				var calculated = false;
				var gold = $("#gold").val();
				gold = parseInt(gold);
				var silver = $("#silver").val();
				silver = parseInt(silver);
				var copper = $("#copper").val();
				copper = parseInt(copper);
				
				if(gold > totalGold){
					alert("Invalid amount!");
				}else{
					totalGold -= gold;
					if(silver > totalSilver){
						if(totalGold >= 1 && silver <= 99){
							totalGold -= 1;
							totalSilver += 100;
							totalSilver -= silver;
							calculated = true;
						}else{
							alert("Invalid amount!");
						}
					}else{
						totalSilver -= silver;
						calculated = true;
					}
					
					if(calculated){
						if(copper > totalCopper){
							if(totalSilver >= 1 && copper <= 99){
								totalSilver -= 1;
								totalCopper += 100;
								totalCopper -= copper;
							}else{
								alert("Invalid amount!");
								calculated = false;
							}
						}else{
							totalCopper -= copper;
						}
					}
				}
				
				if(calculated){
					$("#totalCopper").val(totalCopper);
					$("#totalSilver").val(totalSilver);
					$("#totalGold").val(totalGold);
				}else{
					$("#totalCopper").val("");
					$("#totalSilver").val("");
					$("#totalGold").val("");
					totalGold = 0;
					totalSilver = 0;
					totalCopper = 0;
				}
			});
			
			$("#reset").click(function() {
				totalCopper = 0;
				totalSilver = 0;
				totalGold = 0;
				$("#totalCopper").val("");
				$("#totalSilver").val("");
				$("#totalGold").val("");
				$("#copper").val("0");
				$("#silver").val("0");
				$("#gold").val("0");
			});
		});
	</script>
</head>  
<body>  
	<div id="container">
		<div id="header">
			<div style="float:left; width:170px; padding-left:20px;">
				<img src="guildwars2_logo.png" alt="missing logo!" />
			</div>
			<div style="float:left; font:bold 28px Trebuchet; padding-top:50px;">
				A Simple Guild Wars 2 Currency Calculator
			</div>
		</div>
		
		<div id="content">
			<b>Enter the currency in Current Amount to begin...</b>
			<table border="0">
				<tr>
					<td align="right">Total Amount: </td>
					<td>
						<input type="text" id="totalGold" name="totalGold" disabled="disabled" /> 
						<img src="gold.png" />
					</td>
					<td>
						<input type="text" id="totalSilver" name="totalGold" disabled="disabled" />
						<img src="silver.png" />
					</td>
					<td>
						<input type="text" id="totalCopper" name="totalGold" disabled="disabled" />
						<img src="copper.png" />
					</td>
				</tr>
				<tr>
					<td align="right">Current Amount: </td>
					<td>
						<input type="text" id="gold" name="gold" value="0" />
						<img src="gold.png" />
					</td>
					<td>
						<input type="text" id="silver" name="silver" value="0" />
						<img src="silver.png" />
					</td>
					<td>
						<input type="text" id="copper" name="copper" value="0" />
						<img src="copper.png" />
					</td>
				</tr>
			</table>
			
			<div id="operation">
				<button id="reset">Reset</button>
				<button id="plus">+</button>
				<button id="minus">-</button>
			</div>
			
			<div id="footer">
				<hr />
				<center>
				Mini <a href="https://github.com/xbfish/gw2currencycalculator">open source project</a> by <a href="http://xbfish.com">Willie Fang</a> from <a href="http://rabbitwebfactory.com">Rabbit Web Factory</a>
				<br />
				Report bugs at <a href="mailto:willie@rabbitwebfactory.com">willie@rabbitwebfactory.com</a>
				<br />
				<b>v1.0 beta</b>
				</center>
			</div>
		</div>
	</div>
</body>  
</html>  